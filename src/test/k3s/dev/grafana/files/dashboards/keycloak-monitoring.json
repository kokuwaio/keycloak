{
	"description": "Dashboard of Keycloak metrics exported with Keycloak Metrics SPI\r\n\r\nhttps://github.com/aerogear/keycloak-metrics-spi",
	"editable": true,
	"fiscalYearStartMonth": 0,
	"gnetId": 10441,
	"graphTooltip": 2,
	"iteration": 1650877575682,
	"links": [],
	"liveNow": true,
	"panels": [
		{
			"gridPos": {
				"h": 1,
				"w": 24,
				"x": 0,
				"y": 0
			},
			"id": 20,
			"panels": [],
			"repeat": "event",
			"title": "Event: $event",
			"type": "row"
		},
		{
			"aliasColors": {
				"kokuwa": "dark-orange",
				"test": "dark-purple"
			},
			"bars": false,
			"dashLength": 10,
			"dashes": false,
			"datasource": {
				"type": "prometheus",
				"uid": "$Datasource"
			},
			"fieldConfig": {
				"defaults": {
					"unit": "opm"
				},
				"overrides": []
			},
			"fill": 1,
			"fillGradient": 0,
			"gridPos": {
				"h": 8,
				"w": 24,
				"x": 0,
				"y": 1
			},
			"hiddenSeries": false,
			"hideTimeOverride": true,
			"id": 18,
			"legend": {
				"alignAsTable": true,
				"avg": true,
				"current": true,
				"hideEmpty": false,
				"hideZero": false,
				"max": false,
				"min": false,
				"rightSide": true,
				"show": true,
				"sideWidth": 350,
				"total": true,
				"values": true
			},
			"lines": true,
			"linewidth": 1,
			"links": [],
			"nullPointMode": "null",
			"options": {
				"alertThreshold": true
			},
			"percentage": false,
			"pluginVersion": "8.4.3",
			"pointradius": 2,
			"points": false,
			"renderer": "flot",
			"seriesOverrides": [],
			"spaceLength": 10,
			"stack": false,
			"steppedLine": false,
			"targets": [
				{
					"datasource": {
						"type": "prometheus",
						"uid": "PBFA97CFB590B2093"
					},
					"exemplar": true,
					"expr": "sum(rate($event{realm=~\"$realm\"}[$interval])) by (realm) * 60",
					"interval": "",
					"legendFormat": "{{realm}}",
					"refId": "A"
				}
			],
			"thresholds": [],
			"timeRegions": [],
			"tooltip": {
				"shared": true,
				"sort": 0,
				"value_type": "individual"
			},
			"type": "graph",
			"xaxis": {
				"mode": "time",
				"show": true,
				"values": []
			},
			"yaxes": [
				{
					"$$hashKey": "object:39",
					"format": "opm",
					"logBase": 1,
					"min": "0",
					"show": true
				},
				{
					"$$hashKey": "object:40",
					"format": "short",
					"logBase": 1,
					"min": "0",
					"show": true
				}
			],
			"yaxis": {
				"align": false
			}
		}
	],
	"refresh": "5s",
	"schemaVersion": 35,
	"style": "dark",
	"tags": [],
	"templating": {
		"list": [
			{
				"current": {
					"selected": false,
					"text": "Prometheus",
					"value": "Prometheus"
				},
				"hide": 0,
				"includeAll": false,
				"multi": false,
				"name": "Datasource",
				"options": [],
				"query": "prometheus",
				"queryValue": "",
				"refresh": 1,
				"regex": "",
				"skipUrlSync": false,
				"type": "datasource"
			},
			{
				"allFormat": "",
				"allValue": "",
				"current": {
					"selected": true,
					"text": [
						"All"
					],
					"value": [
						"$__all"
					]
				},
				"datasource": {
					"uid": "$Datasource"
				},
				"definition": "label_values(keycloak_logins{provider=\"keycloak\"},realm)",
				"hide": 0,
				"includeAll": true,
				"label": "Realm",
				"multi": true,
				"multiFormat": "",
				"name": "realm",
				"options": [],
				"query": {
					"query": "label_values(keycloak_logins{provider=\"keycloak\"},realm)",
					"refId": "StandardVariableQuery"
				},
				"refresh": 1,
				"regex": "",
				"skipUrlSync": false,
				"sort": 0,
				"tagValuesQuery": "",
				"tagsQuery": "",
				"type": "query",
				"useTags": false
			},
			{
				"allFormat": "",
				"allValue": "",
				"current": {
					"selected": false,
					"text": "All",
					"value": "$__all"
				},
				"datasource": {
					"uid": "$Datasource"
				},
				"definition": "",
				"hide": 0,
				"includeAll": true,
				"label": "",
				"multi": false,
				"multiFormat": "",
				"name": "clientId",
				"options": [],
				"query": {
					"query": "label_values(keycloak_logins{provider=\"keycloak\",realm=\"$realm\"},client_id)",
					"refId": "Prometheus-ClientId-Variable-Query"
				},
				"refresh": 1,
				"regex": "",
				"skipUrlSync": false,
				"sort": 0,
				"tagValuesQuery": "",
				"tagsQuery": "",
				"type": "query",
				"useTags": false
			},
			{
				"current": {
					"selected": true,
					"text": [
						"keycloak_failed_login_attempts",
						"keycloak_login_attempts",
						"keycloak_logins"
					],
					"value": [
						"keycloak_failed_login_attempts",
						"keycloak_login_attempts",
						"keycloak_logins"
					]
				},
				"hide": 0,
				"includeAll": true,
				"multi": true,
				"name": "event",
				"options": [
					{
						"selected": false,
						"text": "All",
						"value": "$__all"
					},
					{
						"selected": true,
						"text": "keycloak_logins",
						"value": "keycloak_logins"
					},
					{
						"selected": true,
						"text": "keycloak_login_attempts",
						"value": "keycloak_login_attempts"
					},
					{
						"selected": true,
						"text": "keycloak_failed_login_attempts",
						"value": "keycloak_failed_login_attempts"
					},
					{
						"selected": false,
						"text": "keycloak_code_to_tokens",
						"value": "keycloak_code_to_tokens"
					}
				],
				"query": "keycloak_logins,keycloak_login_attempts,keycloak_failed_login_attempts,keycloak_code_to_tokens",
				"queryValue": "",
				"skipUrlSync": false,
				"type": "custom"
			},
			{
				"auto": false,
				"auto_count": 30,
				"auto_min": "10s",
				"current": {
					"selected": false,
					"text": "1m",
					"value": "1m"
				},
				"hide": 2,
				"name": "interval",
				"options": [
					{
						"selected": true,
						"text": "1m",
						"value": "1m"
					},
					{
						"selected": false,
						"text": "10m",
						"value": "10m"
					},
					{
						"selected": false,
						"text": "30m",
						"value": "30m"
					},
					{
						"selected": false,
						"text": "1h",
						"value": "1h"
					},
					{
						"selected": false,
						"text": "6h",
						"value": "6h"
					},
					{
						"selected": false,
						"text": "12h",
						"value": "12h"
					},
					{
						"selected": false,
						"text": "1d",
						"value": "1d"
					},
					{
						"selected": false,
						"text": "7d",
						"value": "7d"
					},
					{
						"selected": false,
						"text": "14d",
						"value": "14d"
					},
					{
						"selected": false,
						"text": "30d",
						"value": "30d"
					}
				],
				"query": "1m,10m,30m,1h,6h,12h,1d,7d,14d,30d",
				"queryValue": "",
				"refresh": 2,
				"skipUrlSync": false,
				"type": "interval"
			}
		]
	},
	"time": {
		"from": "now-15m",
		"to": "now"
	},
	"timepicker": {
		"refresh_intervals": [
			"5s",
			"10s",
			"30s",
			"1m",
			"5m",
			"15m",
			"30m",
			"1h",
			"2h",
			"1d"
		],
		"time_options": [
			"5m",
			"15m",
			"1h",
			"6h",
			"12h",
			"24h",
			"2d",
			"7d",
			"30d"
		]
	},
	"timezone": "",
	"title": "Keycloak",
	"uid": "keycloak-dashboard",
	"version": 1,
	"weekStart": ""
}
